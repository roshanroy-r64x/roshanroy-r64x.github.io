{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"EGR 304 Embedded Systems Design","text":"Roshan Roy Geoffrey Joe Datasheet as part of  ClapSense for  Team 204  <p>Submission: December 01, 2025 </p><p></p>","tags":["tag1","tag2"]},{"location":"#introduction","title":"Introduction","text":"<p>This page documents the Sensor Front-End Driver Subsystem developed by Roshan as part of Team 204\u2019s EGR 304 project. The purpose of this subsystem is to receive control signals from the master hub, process light level information, and drive an external lamp output. This GitHub page provides a clear overview of the subsystem architecture, chosen components, power and signal interfaces, and the role this hardware plays in the larger team system.</p>","tags":["tag1","tag2"]},{"location":"#project-summary","title":"Project Summary","text":"<p>ClapSense is a light that is activated on and off by clapping. This idea was developed to provide an easier way to control your lights, especially for older people, while maintaining the comfort of your house. The clap light is also equipped with manual switches for power and a setting to dim the lights to your preference.</p> <p>The Sensor Front-End Board is responsible for translating digital control signals from the Master Controller into physical lamp actuation, while also integrating a light sensor to monitor ambient light conditions. This subsystem receives a lamp toggle command from the hub through an 8-pin connector, uses an LM358 non-inverting op amp to amplify the signal from a TEMT6000 light sensor, and provides real-time feedback via an LED output.</p> <p>Attached here is the link to our team report.</p>","tags":["tag1","tag2"]},{"location":"#my-contribution","title":"My Contribution","text":"<p>My contribution focuses on designing and implementing the Sensor Front-End subsystem, which includes:</p> <pre><code>* Selecting and integrating a TEMT6000 light sensor and an LM358 non-inverting op amp circuit to provide an amplified analog signal to the microcontroller\u2019s ADC.\n\n* Configuring PWM and DAC outputs on the PIC18F57Q43 to control a red LED for visual feedback and a MOSFET or relay driver to actuate the lamp.\n\n* Implementing signal mapping between the hub and my board, including UART RX and a digital input line for lamp toggle control.\n\n* Ensuring clean and labeled power distribution (+5 V regulated) and proper grounding shared with the team boards.\n</code></pre> <p>This subsystem plays a key role in turning control signals into real-world actuation, ensuring reliable lamp operation under different environmental conditions.</p> <p>To review the details listed of the material used to construct the subsection, you can review it in the \"BOM\" section of the datasheet.</p>","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/","title":"Individal Block Diagram","text":"","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/#overview","title":"Overview","text":"<p>Below is the individual block diagram for the Sensor Front End of the overall board. This board receives the input from Quinn's board and outputs a light to a LED.</p>","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/#block-diagram","title":"Block Diagram","text":"","tags":["tag1","tag2"]},{"location":"02-Component-Selection/Component-Selection/","title":"Component Selection","text":""},{"location":"02-Component-Selection/Component-Selection/#voltage-regulator-module","title":"Voltage Regulator Module","text":"Solution Pros Cons  TI LM7805CT/NOPB$0.75/eachLink to product * Easy to heatsink* Compatible with PSoC* Up to 1\u20131.5 A * Higher dropout (~2 V); can run hot \u2192 bigger thermal budget  Microchip MCP1825S-5002E/DB  $0.70/each  Link to product * 500 mA LDO * lower dropout than 7805  * compact SOT-223 package * SMD reflow/soldering skill needed * less tolerant of big thermal loads  AMS1117-5.0$0.13/eachLink to product * 1 A rating* Compact * Moderate dropout (~1.1\u20131.3 V) * Current higher than some LDOs * Dip in quality <p>Choice: LM7805CT/NOPB</p> <p>Rationale: Meets the project\u2019s 500 mA requirement and compatible with the PSoC. Same voltage regulator as the rest of the group so consistency maintained as well.</p>"},{"location":"02-Component-Selection/Component-Selection/#op-amp-module","title":"Op-Amp Module","text":"Solution Pros Cons  TI LM358$0.50/eachLink to product * Dual amp; single-supply 5 V operation* Tolerant of inputs near ground * Not rail-to-rail in/out* Input bias &amp; offset higher than modern CMOS parts  MCP6002-E/P  $0.60/each  Link to product * Rail-to-rail I/O * Great at 5 V or 3.3 V  * Good for sensor buffering * Lower GBW (1 MHz) may limit high-speed filtering  TLV2372IDR$1.45/eachLink to product * Rail-to-rail* 3 MHz GBW; more headroom* low power per channel * Higher cost * SOIC/T&amp;R variants may require SMD rework skills <p>Choice: MCP6002</p> <p>Rationale: For an ambient-light signal into the PIC\u2019s ADC, rail-to-rail I/O, low power, and clean operation at 5 V are more valuable than bandwidth. MCP6002 gives simpler headroom management than LM358 with minimal cost increase.</p>"},{"location":"02-Component-Selection/Component-Selection/#light-sensor-module","title":"Light Sensor Module","text":"Solution Pros Cons  TEMT6000X01$0.90/eachLink to product * Simple analog output* Fast response and tiny footprint * Works directly with op-amp/ADC * Output is non-linear vs. lux* Requires biasing and calibration * Sensitive to angle/spectrum  BH1750FVI  $4.00/each  Link to product * Reports lux directly via I\u00b2C * Minimal analog design * Requires I\u00b2C + library * Fixed spectrum/transfer function * Module size &gt; bare sensor  Adafruit VEML7700 Lux Sensor - I2C Light Sensor - STEMMA QT / Qwiic$5.00/eachLink to product * Wide 0\u2013120 klux, 16-bit * adjustable gain/integration * 3.3/5 V friendly and accurate lux output * I\u00b2C interface required <p>Choice: TEMT6000</p> <p>Rationale: Since there is already an ADC channel, TEMT6000 keeps BOM cost and firmware complexity low while providing fast analog response. If calibrated, it\u2019s sufficient for relative brightness feedback to the LED driver.</p>"},{"location":"03-BOM/BOM/","title":"Bill of Materials","text":"","tags":["tag1","tag2"]},{"location":"03-BOM/BOM/#overview","title":"Overview","text":"<p>This section is the BOM (Bill of Materials) for the ClapSense sensor front end subsystem.</p>","tags":["tag1","tag2"]},{"location":"03-BOM/BOM/#bill-of-materials","title":"Bill of Materials","text":"<p>Table 01: Components for audio subsystem.</p> Part Name/Description Qty Unit Cost Total Cost Manufacture Manufacturer # Vendor Link Datasheet Link Schematic Reference Designators Ambient Light Sensors Ambient Light Sensor AEC-Q101 Qualified 1 $0.80 $0.80 Mouser Electronics TEMT6000X01 Mouser Electronics datasheet link TEMT6000_RRGJ1 MCP6002 OP AMP 1 $1.86 $ 1.86 Microchip Technology MCP6022-I/P-ND Peralta 109 datasheet MCP6002_RRGJ1 PJ-102AH Barrel Jack 1 $0.76 $ 0.76 Same Sky CP-102AH-ND Peralta 109 datasheet link J1 330 ohm resistor 1 $0.10 $ 0.10 Stackpole Electronics Inc CF14JT330R Peralta 109 datasheet link R10 1K ohm resistor 2 $0.10 $ 0.30 Stackpole Electronics Inc CF14JT1K00 Peralta 109 datasheet link R8, R1 10K ohm resistor 7 $0.10 $0.70 Stackpole Electronics Inc CF14JT10K0 Peralta 109 datasheet link R2, R3, R4, R5, R6, R7, R9 .33uF Ceramic capacitor 1 $0.72 $ 0.72 Vishay Beyschlag/Draloric/BC Components 1C10Z5U334M050B Peralta 109 datasheet link C1 .1uF Ceramic capacitor 2 $0.24 $ 0.72 Vishay Beyschlag/Draloric/BC Components K104K10X7RF5TL2 Peralta 109 datasheet link C2, C3 Button Switch 1 $0.50 $ 0.50 SparkFun Electronics 00097 Peralta 109 Not Provided SW1 Red LED 1 $0.15 $ 0.15 W\u00fcrth Elektronik 151051RS11000 Peralta 109 datasheet link D1 Curiosity Nano PIC18F57Q43 Microchip 1 $9.99 $ 9.99 Microchip technology DM164150 Peralta 109 datasheet link PIC_RRGJ1 10K\u03a9 Potentiometer 1 $1.87 $ 1.87 TT Electronics/BI P160KN-0QC15B10K Peralta 109 datasheet link RV1 LM7805 1 $0.50 $0.50 STMicroelectronics L7805CV Peralta 109 datasheet link U1 Jumper Wires Multiple - - - - Peralta 109 - - Fuse 2A 1 $0.50 $0.50 Littelfuse Inc. 0217002.MXP Peralta 109 datasheet link J2 2x4 Ribbon Cables 1 $9.31 $9.31 Samtec Inc. FFSD-04-D-04.00-01 Peralta 109 datasheet link J3","tags":["tag1","tag2"]},{"location":"04-Schematic/schematic/","title":"Schematic","text":""},{"location":"04-Schematic/schematic/#overview","title":"Overview","text":"<p>This schematic is the lamp control section of the output drive board for EGR 304 Group 204's project.</p> <p></p>"},{"location":"04-Schematic/schematic/#resouces","title":"Resouces","text":"<p>The schematic as a PDF download is available here, and the Zip folder of the project here.</p>"},{"location":"05-Power-Budget/Power-Budget/","title":"Power Budget (Roshan Roy Geoffrey Joe)","text":""},{"location":"05-Power-Budget/Power-Budget/#overview","title":"Overview","text":"<p>This page is a work in progress of the final power budget. Each of the power constraints and specifcities are attached in the pdf/excel, but also summarized below:</p> <ul> <li>All Major Components: each device with voltage range, qty, absolute max current, and estimated operating current</li> <li>+5 V Rail: loads (MCU, sensor, LM358, red LED), subtotal, +25% margin, and a 5 V/500 mA regulator block with remaining capacity</li> <li>+3.3 V Rail: placeholder sheet (in case we later move the sensor/MCU to 3.3 V)</li> <li>External Power Source: a generic 9 V/1 A wall supply driving the 5 V regulator, with remaining headroom</li> </ul>"},{"location":"05-Power-Budget/Power-Budget/#conclusions","title":"Conclusions","text":"<p>Updated after the Design Review</p>"},{"location":"05-Power-Budget/Power-Budget/#resouces","title":"Resouces","text":"<p>The power budget as a PDF download is available here, and a Microsoft Excel Sheet here.</p>"},{"location":"Appendix/","title":"Appendix - Main Page","text":"<p>The Appendix is where supporting information goes that is not in the main body.</p>"},{"location":"Appendix/another-subfile/","title":"Appendix - Another Subfile","text":"<p>Things to discuss</p>"},{"location":"Appendix/basic-markdown-examples/","title":"Appendix - Basic Markdown Examples","text":""},{"location":"Appendix/basic-markdown-examples/#introduction","title":"Introduction","text":"<p>Bold Text Italic Text Bold and Italic Text</p>"},{"location":"Appendix/basic-markdown-examples/#research-question","title":"Research Question","text":"<ul> <li>Bullet Point 1</li> <li>Bullet Point 2</li> <li>Bullet Point 3</li> </ul>"},{"location":"Appendix/basic-markdown-examples/#images","title":"Images","text":"<p> Figure 2: Early PCB working design</p> <p> Figure 3: Innovation Showcase Spring '25, where the products were a STEM-themed display that demonstrates a single scientific/engineering concept with the intended user of K-12 students interested in learning about science, technology, engineering, or math.</p>"},{"location":"Appendix/basic-markdown-examples/#results","title":"Results","text":"<ol> <li>Numbered Point 1</li> <li>Numbered Point 2</li> <li>Numbered Point 3</li> </ol>"},{"location":"Appendix/basic-markdown-examples/#conclusions-and-future-work","title":"Conclusions and Future Work","text":""},{"location":"Appendix/basic-markdown-examples/#external-links","title":"External Links","text":"<p>example link to idealab</p>"},{"location":"Appendix/basic-markdown-examples/#results_1","title":"Results","text":"<ol> <li>Numbered Point 1</li> <li>Numbered Point 2</li> <li>Numbered Point 3</li> </ol>"},{"location":"Appendix/basic-markdown-examples/#conclusions-and-future-work_1","title":"Conclusions and Future Work","text":""},{"location":"Appendix/basic-markdown-examples/#external-links_1","title":"External Links","text":"<p>example link to idealab</p>"},{"location":"Appendix/basic-markdown-examples/#references","title":"References","text":""},{"location":"Appendix/charts/","title":"Appendix - Charts Example","text":"<pre><code>graph LR\n  A[Start] --&gt; B{Error?};\n  B --&gt;|Yes| C[Hmm...];\n  C --&gt; D[Debug];\n  D --&gt; B;\n  B ----&gt;|No| E[Yay!];</code></pre> <pre><code>sequenceDiagram\n  autonumber\n  Alice-&gt;&gt;John: Hello John, how are you?\n  loop Healthcheck\n      John-&gt;&gt;John: Fight against hypochondria\n  end\n  Note right of John: Rational thoughts!\n  John--&gt;&gt;Alice: Great!\n  John-&gt;&gt;Bob: How about you?\n  Bob--&gt;&gt;John: Jolly good!</code></pre> <pre><code>stateDiagram-v2\n  state fork_state &lt;&lt;fork&gt;&gt;\n    [*] --&gt; fork_state\n    fork_state --&gt; State2\n    fork_state --&gt; State3\n\n    state join_state &lt;&lt;join&gt;&gt;\n    State2 --&gt; join_state\n    State3 --&gt; join_state\n    join_state --&gt; State4\n    State4 --&gt; [*]</code></pre>"},{"location":"Appendix/esp-32-table/","title":"Appendix - Example Controller Table for the ESP32","text":"ESP Info Answer Help Model ? Include the entire part number (leave off any letters at the end that specify the package type) Product Page URL ? Found on Espressif.com ESP32-S3-WROOM-1-N4 Datasheet URL ? Do not paste links directly into the table.  Use a link ESP32 S3 Datasheet URL ? Has more detail on functions ESP32 S3 Technical Reference Manual URL ? Has details on I/O multiplexing, USB, and others Vendor link ? Digikey, Jameco, etc.  Do not paste links directly into the table.  Use a link Code Examples ? url(s) for libraries on github or other sites related to the microcontroller and your planned peripherals External Resources URL(s) ? Search on Google and YouTube for other resources for each specific microcontroller. Unit cost ? Find on Digikey, Jameco, MPJA, or octopart Absolute Maximum Current for entire IC ? Find in the microcontroller datasheet Supply Voltage Range ? Min / Nominal / Max / Absolute Max, as found in datasheet Absolute Maximum current  (for entire IC) ? as found in datasheet Maximum GPIO current  (per pin) ? as found in datasheet Supports External Interrupts? ? as found in datasheet Required Programming Hardware, Cost, URL ? as found in datasheet Module # Available Needed Associated Pins (or * for any) UART ? ? ? external SPI* ? ? ? I2C ? ? ? GPIO ? ? ? ADC ? ? ? LED PWM ? ? ? Motor PWM ? ? ? USB Programmer ? 1 ? ... <p>* The ESP32-S2 has multiple SPI interfaces, but some are for internal use</p>"}]}